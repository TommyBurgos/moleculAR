<!DOCTYPE html>
<html lang="en">
<head>
	{% load static %}
	<title>Eduport - LMS, Education and Course Theme</title>

	<!-- Meta Tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="author" content="Webestica.com">
	<meta name="description" content="Eduport- LMS, Education and Course Theme">

	<!-- Dark mode -->
	<script>
		const storedTheme = localStorage.getItem('theme')
 
		const getPreferredTheme = () => {
			if (storedTheme) {
				return storedTheme
			}
			return window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'light'
		}

		const setTheme = function (theme) {
			if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
				document.documentElement.setAttribute('data-bs-theme', 'dark')
			} else {
				document.documentElement.setAttribute('data-bs-theme', theme)
			}
		}

		setTheme(getPreferredTheme())

		window.addEventListener('DOMContentLoaded', () => {
		    var el = document.querySelector('.theme-icon-active');
			if(el != 'undefined' && el != null) {
				const showActiveTheme = theme => {
				const activeThemeIcon = document.querySelector('.theme-icon-active use')
				const btnToActive = document.querySelector(`[data-bs-theme-value="${theme}"]`)
				const svgOfActiveBtn = btnToActive.querySelector('.mode-switch use').getAttribute('href')

				document.querySelectorAll('[data-bs-theme-value]').forEach(element => {
					element.classList.remove('active')
				})

				btnToActive.classList.add('active')
				activeThemeIcon.setAttribute('href', svgOfActiveBtn)
			}

			window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
				if (storedTheme !== 'light' || storedTheme !== 'dark') {
					setTheme(getPreferredTheme())
				}
			})

			showActiveTheme(getPreferredTheme())

			document.querySelectorAll('[data-bs-theme-value]')
				.forEach(toggle => {
					toggle.addEventListener('click', () => {
						const theme = toggle.getAttribute('data-bs-theme-value')
						localStorage.setItem('theme', theme)
						setTheme(theme)
						showActiveTheme(theme)
					})
				})

			}
		})
		
	</script>

	<!-- Favicon -->
	<link rel="shortcut icon" href="assets/images/favicon.ico">

	<!-- Google Font -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap">

	<!-- Plugins CSS -->
	<link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/font-awesome/css/all.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}">

	<!-- Theme CSS -->
	<link rel="stylesheet" type="text/css" href="{% static 'assets/css/style.css' %}">
	
</head>

<body>


<!-- **************** MAIN CONTENT START **************** -->
<main>
	
<!-- =======================
Page Banner START -->
{% include 'estudiante/base_banner_sup.html' %}
<!-- =======================
Page Banner END -->

<!-- =======================
Page content START -->
<section class="pt-0">
	<div class="container" style="max-width: 100%;">
		<div class="row">

			<!-- Left sidebar START -->
			{% include 'estudiante/base_sidebar.html' %}
			<!-- Left sidebar END -->


			<!-- Main content START -->
			<div class="col-xl-9">

				<div class="card bg-transparent border rounded-3">
	<!-- Card header START -->
	<div class="card-header bg-transparent border-bottom">
		<h3 class="mb-0">Biblioteca General de prácticas</h3>
	</div>
	<!-- Card header END -->

	<!-- Buscador -->
	<div class="card-body border-bottom py-3">
		<form method="get" class="input-group">
			<input type="text" name="q" class="form-control" placeholder="Buscar por título..." value="{{ query }}">
			<button class="btn btn-primary" type="submit">Buscar</button>
		</form>
	</div>

	{% if page_obj %}
	<!-- Card body START -->
	<div class="card-body p-3 p-md-4">
		<div class="row g-4">

			{% for practica in page_obj %}
			<div class="col-sm-6 col-lg-4">
				<div class="card shadow h-100">
					{% if practica.imagen %}
					<img src="{{ practica.imagen.url }}" class="card-img-top" alt="Imagen de práctica">
					{% endif %}
					<div class="card-body pb-0">
						<div class="d-flex justify-content-between mb-2">
							<a href="{% url 'resolver_practica' practica.practica.id %}" class="badge bg-success bg-opacity-10 text-success">
								{{ practica.titulo }}
							</a>
							<a href="#" class="text-danger"><i class="fas fa-heart"></i></a>
						</div>
						<h5 class="card-title fw-normal">
							<a href="{% url 'resolver_practica' practica.practica.id %}">{{ practica.titulo }}</a>
						</h5>
						<p class="mb-2 text-truncate-2">{{ practica.descripcion|truncatewords:20 }}</p>
						<ul class="list-inline mb-0">
							<li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
							<li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
							<li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
							<li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
							<li class="list-inline-item me-0 small"><i class="fas fa-star-half-alt text-warning"></i></li>
							<li class="list-inline-item ms-2 h6 fw-light mb-0">4.5/5.0</li>
						</ul>
					</div>
					<div class="card-footer pt-0 pb-3">
						<hr>
						<div class="d-flex justify-content-between">
							<span class="h6 fw-light mb-0">
								<i class="far fa-clock text-danger me-2"></i>Fecha de creación: {{ practica.fecha_creacion|date:"d/m/Y" }}
							</span>
						</div>
					</div>
				</div>
			</div>
			{% endfor %}

			<!-- Tarjeta de ejemplo (puedes eliminarla si ya no la necesitas) -->
			<div class="col-sm-6 col-lg-4">
				<div class="card shadow h-100">
					<img src="assets/images/courses/4by3/07.jpg" class="card-img-top" alt="course image">
					<div class="card-body pb-0">
						<div class="d-flex justify-content-between mb-2">
							<a href="#" class="badge bg-success bg-opacity-10 text-success">Beginner</a>
							<a href="#" class="text-danger"><i class="fas fa-heart"></i></a>
						</div>
						<h5 class="card-title fw-normal"><a href="#">Deep Learning with React-Native </a></h5>
						<p class="mb-2 text-truncate-2">Far advanced settling say finished raillery. Offered chiefly farther.</p>
						<ul class="list-inline mb-0">
							<li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
							<li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
							<li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
							<li class="list-inline-item me-0 small"><i class="fas fa-star text-warning"></i></li>
							<li class="list-inline-item me-0 small"><i class="far fa-star text-warning"></i></li>
							<li class="list-inline-item ms-2 h6 fw-light mb-0">4.0/5.0</li>
						</ul>
					</div>
					<div class="card-footer pt-0 pb-3">
						<hr>
						<div class="d-flex justify-content-between">
							<span class="h6 fw-light mb-0"><i class="far fa-clock text-danger me-2"></i>18h 56m</span>
							<span class="h6 fw-light mb-0"><i class="fas fa-table text-orange me-2"></i>99 lectures</span>
						</div>
					</div>
				</div>
			</div>
			<!-- Fin tarjeta de ejemplo -->

		</div>
	</div>
	<!-- Card body END -->

	<!-- Paginación -->
	<div class="card-footer border-top py-3">
		<nav aria-label="Page navigation">
			<ul class="pagination justify-content-center mb-0">
				{% if page_obj.has_previous %}
				<li class="page-item">
					<a class="page-link" href="?q={{ query }}&page={{ page_obj.previous_page_number }}">Anterior</a>
				</li>
				{% else %}
				<li class="page-item disabled"><span class="page-link">Anterior</span></li>
				{% endif %}

				{% for num in page_obj.paginator.page_range %}
				<li class="page-item {% if page_obj.number == num %}active{% endif %}">
					<a class="page-link" href="?q={{ query }}&page={{ num }}">{{ num }}</a>
				</li>
				{% endfor %}

				{% if page_obj.has_next %}
				<li class="page-item">
					<a class="page-link" href="?q={{ query }}&page={{ page_obj.next_page_number }}">Siguiente</a>
				</li>
				{% else %}
				<li class="page-item disabled"><span class="page-link">Siguiente</span></li>
				{% endif %}
			</ul>
		</nav>
	</div>

	{% else %}
	<div class="card-body text-center">
		<p class="mb-0">No se encontraron prácticas públicas disponibles.</p>
	</div>
	{% endif %}
</div>

			</div>
			<!-- Main content END -->
		</div> <!-- Row END --> 
	</div>	
</section>
<!-- =======================
Page content END -->

</main>
<!-- **************** MAIN CONTENT END **************** -->

<!-- =======================
Footer START -->
<footer class="bg-dark p-3">
	<div class="container">
		<div class="row align-items-center">
			<!-- Widget -->
			<div class="col-md-4 text-center text-md-start mb-3 mb-md-0">
				<!-- Logo START -->
				<a href="index.html"> <img class="h-20px" src="assets/images/logo-light.svg" alt="logo"> </a>
			</div>
			
			<!-- Widget -->
			<div class="col-md-4 mb-3 mb-md-0">
				<div class="text-center text-white text-primary-hover">
					Copyrights ©2024 Eduport. Build by <a href="https://www.webestica.com/" target="_blank" class="text-white">Webestica</a>.
				</div>
			</div>
			<!-- Widget -->
			<div class="col-md-4">
				<!-- Rating -->
				<ul class="list-inline mb-0 text-center text-md-end">
					<li class="list-inline-item ms-2"><a href="#"><i class="text-white fab fa-facebook"></i></a></li>
					<li class="list-inline-item ms-2"><a href="#"><i class="text-white fab fa-instagram"></i></a></li>
					<li class="list-inline-item ms-2"><a href="#"><i class="text-white fab fa-linkedin-in"></i></a></li>
					<li class="list-inline-item ms-2"><a href="#"><i class="text-white fab fa-twitter"></i></a></li>
				</ul>
			</div>
		</div>
	</div>
</footer>
<!-- =======================
Footer END -->

<!-- Back to top -->
<div class="back-top"><i class="bi bi-arrow-up-short position-absolute top-50 start-50 translate-middle"></i></div>

<!-- Bootstrap JS -->
<script src="{% static 'assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>

<!-- Template Functions -->
<script src="{% static 'assets/js/functions.js' %}"></script>

</body>
</html>